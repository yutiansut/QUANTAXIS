# QUANTAXIS 2.1 依赖清单
# Python 3.9+ required
# @yutiansut @quantaxis

# ============================================================================
# 数据库层 - Database Layer
# ============================================================================
# MongoDB
pymongo>=4.10.0,<5.0.0  # 异步MongoDB驱动 (从3.11.2升级)
motor>=3.7.0,<4.0.0  # 异步MongoDB (从2.2升级)

# ClickHouse
clickhouse-driver>=0.2.9,<0.3.0
clickhouse-cityhash>=1.0.2,<2.0.0

# Redis
redis>=5.2.0,<6.0.0  # 从0.18升级

# ============================================================================
# 数据处理层 - Data Processing
# ============================================================================
# 核心数据处理
pandas>=2.0.0,<3.0.0  # 从1.1.5升级，支持PyArrow后端
numpy>=1.24.0,<2.0.0  # 从1.12.0升级
pyarrow>=15.0.0,<18.0.0  # 从6.0.1升级，支持零拷贝

# 科学计算
scipy>=1.11.0,<2.0.0
statsmodels>=0.14.0,<0.15.0  # 从0.12.1升级
numba>=0.59.0  # JIT编译器

# ============================================================================
# Web/异步框架 - Web & Async
# ============================================================================
tornado>=6.4.0,<7.0.0  # 从6.3.2升级
flask>=3.0.0,<4.0.0  # 从0.12.2升级
gevent-websocket>=0.10.1
websocket-client>=1.8.0,<2.0.0

# 消息队列
pika>=1.3.2,<2.0.0  # RabbitMQ客户端 (升级到最新稳定版)

# 异步支持
motor>=3.7.0,<4.0.0
async_timeout>=4.0.3
janus>=1.0.0  # 从0.4.0升级

# ============================================================================
# 金融数据源 - Financial Data Sources
# ============================================================================
tushare>=1.4.0  # Tushare Pro
pytdx>=1.72  # 从1.67升级，通达信数据 (1.72为当前最新版本)
baostock>=0.8.8

# ============================================================================
# 量化分析 - Quantitative Analysis
# ============================================================================
empyrical==0.5.5  # 性能指标
pyfolio>=0.9.2  # 投资组合分析
alphalens==0.4.0  # 因子分析

# ============================================================================
# 任务调度 - Task Scheduling
# ============================================================================
apscheduler>=3.10.0,<4.0.0  # 从3.3.1升级

# ============================================================================
# 工具库 - Utilities
# ============================================================================
# 日志和调试
zenlog>=1.1
protobuf>=4.25.0,<6.0.0  # 从3.4.0升级

# 数据验证
attrs>=23.0.0,<24.0.0  # 从17.4.0升级
retrying>=1.3.4

# 数据转换
lxml>=5.0.0,<6.0.0  # XML解析
bs4>=0.0.2  # BeautifulSoup

# HTTP客户端
requests>=2.32.0,<3.0.0

# 压缩
lz4>=4.3.0

# ============================================================================
# 可视化 - Visualization
# ============================================================================
matplotlib>=3.7.0
seaborn>=0.13.0,<0.14.0  # 从0.11.1升级
pyecharts>=2.0.0  # 从1.9.0升级
pyecharts_snapshot>=0.2.0

# ============================================================================
# 开发工具 - Development Tools
# ============================================================================
IPython>=8.12.0
jupyter>=1.0.0

# ============================================================================
# QUANTAXIS特定 - QUANTAXIS Specific
# ============================================================================
qaenv>=0.0.4
#qanotify>=0.1.0

# ============================================================================
# 可选: 高性能组件 (通过pip install quantaxis[performance]安装)
# ============================================================================
# polars>=0.20.0,<0.22.0  # 高性能DataFrame (比Pandas快5-10x)
# orjson>=3.10.0  # 快速JSON序列化
# msgpack>=1.1.0  # MessagePack序列化

# ============================================================================
# 可选: Rust集成 (通过pip install quantaxis[rust]安装)
# ============================================================================
# qars3>=0.0.45  # QARS2 Rust核心 (PyO3绑定)
# qadataswap>=0.1.0  # 跨语言零拷贝通信

# ============================================================================
# 移除的依赖 - Removed Dependencies
# ============================================================================
# delegator.py - 已不再维护
# pyconvert - pandas已内置转换功能
# six - Python 3.9+不再需要
# pytesseract - 非核心功能

# ============================================================================
# 安装说明
# ============================================================================
# 基础安装:
#   pip install -e .
#
# 包含高性能组件:
#   pip install -e .[performance]
#
# 包含Rust组件:
#   pip install -e .[rust]
#
# 完整安装:
#   pip install -e .[full]
